<html>
<head>
  <title>Decision Maker!</title>
  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">

  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>
  <!-- sortable.js -->
  <script src="http://rubaxa.github.io/Sortable/Sortable.js"></script>
  <!-- ng-sortable.js -->
  <script src="http://rubaxa.github.io/Sortable/ng-sortable.js"></script>
  <script src="/javascripts/angularApp.js"></script>
  <style> .glyphicon-thumbs-up { cursor:pointer } </style>
</head>
<body ng-app="decisionMaker" ng-controller="MainCtrl">
  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <ui-view></ui-view>
    </div>
  </div>
</body>

<script type="text/ng-template" id="/results.html">
  <div class="page-header">
    <h3>
      {{room.title}}
    </h3>
  </div>

  <div ng-repeat="result in results track by $index">
    {{$index+1}}: {{result.title}}, with: {{result.count}} votes
  </div>

</script>

<script type="text/ng-template" id="/rooms.html">
  <div class="page-header">
    <h3>
      {{room.title}}
    </h3>
  </div>

  <div ng-sortable="barConfig">
    <div ng-repeat="option in room.options track by $index">
      Option {{$index+1}}: {{option.title}}
    </div>
  </div>

  <button class="btn btn-primary" ng-click="addVote()">Submit Vote</button>
  <a href="#/results/{{room._id}}" class="btn btn-primary">Results</a>
</script>

<script type="text/ng-template" id="/home.html">
  <div class="page-header">
    <h1>Decision Maker!</h1>
  </div>

  <div ng-repeat="room in rooms">
    <span style="font-size:20px;">{{room.title}}</span>
    - <a href="#/rooms/{{room._id}}">Vote</a>
  </div>

  <h3>Add a new Room</h3>
  <div class="form-group">
    <input type="text" class="form-control" placeholder="Title" ng-model="title"></input>
  </div>

  <form ng-submit="addRoom()">
    <div class="form-group" ng-repeat="option in options track by $index">
      <input type="text" class="form-control" placeholder="Option" ng-model="options[$index]"></input>
    </div>
    <button type="submit" class="btn btn-primary">Post</button>
  </form>
  <button class="btn btn-primary" ng-click="addOption($event)">Add Option</button>
</script>
</html>
